<template name="page">
    <main>
        <div class="container">

            {{#if criticalTimingActive}}
                <div class="progress">
                    <div class="determinate  red darken-4" style="width: {{criticalTiming}}%"></div>
                </div>
            {{/if}}
            {{#if normalTimingActive}}
                <div class="progress">
                    <div class="determinate  blue darken-4" style="width: {{normalTiming}}%"></div>
                </div>
            {{/if}}
            <div id="action-text">
                <h2>{{actionText}}</h2>
            </div>

            <p>{{{mainText}}}</p>

            {{#if focusTextActive}}
                <div id="focus-text">{{focusText}}</div>
            {{/if}}
        </div>
        <footer class="page-footer">
            <div class="container">
                <div class="row">
                    <div class="col m6 s12">
                        <a id="backpack" class='btn red darken-3' href='#'>Rucksack</a>

                        <a id="openBackpack" class='btn red darken-3' href='#'><i class="pageview"></i></a>
                    </div>
                    <div class="col m6 s12">
                        {{#if isEmpty statusText}}
                            {{#each statusText}}
                                {{key}}: {{value}}
                            {{/each}}
                        {{/if}}

                    </div>
                </div>
            </div>
        </footer>

        <div id="mousedown">
            <!-- id is in camelCase, because it is mapped directly to a JavaScript-Object -->
            <div class="white-box" id="center"></div>
            <div class="white-box" id="bottom"></div>
            <div class="white-box" id="top"></div>
            <div class="white-box" id="left"></div>
            <div class="white-box" id="leftTop"></div>
            <div class="white-box" id="leftBottom"></div>
            <div class="white-box" id="right"></div>
            <div class="white-box" id="rightTop"></div>
            <div class="white-box" id="rightBottom"></div>
        </div>
    </main>
    <div id="statistics" class="modal modal-fixed-footer">
        <div class="modal-content">
            {{>infoAboutObject}}
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>
        </div>
    </div>

    <div id="backpackContent" class="modal modal-fixed-footer">
        <div class="modal-content">
            {{>backpackContent}}
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>
        </div>
    </div>
</template>

<template name="infoAboutObject">
    {{#if objectProperty.name}}
        <h1>{{objectProperty.name}}</h1>
    {{/if}}
    {{#if isEmpty statistics}}
        <h2>Properties</h2>
        <ul>
            {{#each statistics}}
                <li>{{key}}: {{value}}</li>
            {{/each}}
        </ul>
    {{/if}}
    {{#if objectProperty.wikiText}}
        <h2>Description</h2>
        {{#if objectProperty.wikiText}}
            <p>{{{objectProperty.wikiText}}}</p>
        {{/if}}
    {{/if}}
</template>

<template name="backpackContent">
    <h1>Backpack</h1>
    <ul class='backback-list'>
        {{#each backpack}}
            {{>backpackItem}}
        {{/each}}
    </ul>
</template>
<template name="backpackItem">
    <li><a class="backpack-item" data-_id="{{_id}}" href="#">{{name}}</a></li>
</template>
